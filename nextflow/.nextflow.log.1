Aug-21 09:55:34.380 [main] DEBUG nextflow.cli.Launcher - $> nextflow make_prediction.nf --inputfile /home/dputnam/chenlab_home/CanID_classification_final_revision/public_application/input_files/ZERO_ST_testset.txt --fsva_method fast --prefix ZERO_NFST --basedir /home/dputnam/chenlab_home/CanID_classification_final_revision/public_application --modeltype ST
Aug-21 09:55:34.517 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.04.1
Aug-21 09:55:34.531 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/dputnam/.nextflow/plugins; core-plugins: nf-amazon@1.16.2,nf-azure@1.0.1,nf-codecommit@0.1.4,nf-console@1.0.5,nf-ga4gh@1.0.5,nf-google@1.7.3,nf-tower@1.5.12,nf-wave@0.8.2
Aug-21 09:55:34.542 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Aug-21 09:55:34.543 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Aug-21 09:55:34.545 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Aug-21 09:55:34.552 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Aug-21 09:55:34.644 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Aug-21 09:55:34.662 [main] INFO  nextflow.cli.CmdRun - Launching `make_prediction.nf` [spontaneous_euclid] DSL2 - revision: c84a2ea2bd
Aug-21 09:55:34.666 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Aug-21 09:55:34.666 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Aug-21 09:55:34.675 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /home/dputnam/.nextflow/secrets/store.json
Aug-21 09:55:34.680 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@57bd802b] - activable => nextflow.secret.LocalSecretsProvider@57bd802b
Aug-21 09:55:34.738 [main] DEBUG nextflow.Session - Session UUID: d5f560a4-aaf9-469f-bbc7-ac20d9aeb23b
Aug-21 09:55:34.738 [main] DEBUG nextflow.Session - Run name: spontaneous_euclid
Aug-21 09:55:34.740 [main] DEBUG nextflow.Session - Executor pool size: 2
Aug-21 09:55:34.751 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Aug-21 09:55:34.776 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.04.1 build 5866
  Created: 15-04-2023 06:51 UTC (01:51 CDT)
  System: Linux 4.18.0-553.42.1.el8_10.x86_64
  Runtime: Groovy 3.0.16 on OpenJDK 64-Bit Server VM 20.0.2+9-78
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 2404969@noderome104 [10.220.17.4]
  CPUs: 1 - Mem: 1003.4 GB (758.1 GB) - Swap: 16 GB (16 GB)
Aug-21 09:55:34.835 [main] DEBUG nextflow.Session - Work-dir: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work [gpfs]
Aug-21 09:55:34.836 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/bin
Aug-21 09:55:34.860 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Aug-21 09:55:34.869 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Aug-21 09:55:34.893 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Aug-21 09:55:34.901 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 2; maxThreads: 1000
Aug-21 09:55:34.958 [main] DEBUG nextflow.Session - Session start
Aug-21 09:55:35.957 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Aug-21 09:55:35.966 [main] INFO  nextflow.script.BaseScript - FSVA Method (after initialization): fast
Aug-21 09:55:36.055 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.059 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.063 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Aug-21 09:55:36.069 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=1; memory=1003.4 GB; capacity=1; pollInterval=100ms; dumpInterval=5m
Aug-21 09:55:36.145 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.145 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.155 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.155 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.159 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.159 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.162 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.162 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.164 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Aug-21 09:55:36.164 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Aug-21 09:55:36.170 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: step5_filterCanID, step0_genefilter, step3_applyPCA, step1_applyQN, step2_applyBN, step4_applyCanID
Aug-21 09:55:36.170 [main] DEBUG nextflow.Session - Igniting dataflow network (19)
Aug-21 09:55:36.171 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step0_genefilter
Aug-21 09:55:36.173 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step1_applyQN
Aug-21 09:55:36.183 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step2_applyBN
Aug-21 09:55:36.184 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step3_applyPCA
Aug-21 09:55:36.184 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step4_applyCanID
Aug-21 09:55:36.185 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > step5_filterCanID
Aug-21 09:55:36.185 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Aug-21 09:55:36.185 [main] DEBUG nextflow.Session - Session await
Aug-21 09:55:36.363 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Aug-21 09:55:36.365 [Task submitter] INFO  nextflow.Session - [2e/ca9d68] Submitted process > step0_genefilter (1)
Aug-21 09:55:37.274 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: step0_genefilter (1); status: COMPLETED; exit: 0; error: -; workDir: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/2e/ca9d68c0df586f1a90b195d414ec5c]
Aug-21 09:55:37.296 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Aug-21 09:55:37.329 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Aug-21 09:55:37.339 [Task submitter] INFO  nextflow.Session - [e6/221ab2] Submitted process > step1_applyQN (1)
Aug-21 09:55:44.208 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: step1_applyQN (1); status: COMPLETED; exit: 0; error: -; workDir: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/e6/221ab28a97b134629c4a6376558a95]
Aug-21 09:55:44.261 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Aug-21 09:55:44.261 [Task submitter] INFO  nextflow.Session - [9f/3c43b9] Submitted process > step2_applyBN (1)
Aug-21 09:56:18.231 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: step2_applyBN (1); status: COMPLETED; exit: 0; error: -; workDir: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/9f/3c43b9a2131c048ce7b1ea02afcba7]
Aug-21 09:56:18.250 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Aug-21 09:56:18.250 [Task submitter] INFO  nextflow.Session - [09/452750] Submitted process > step3_applyPCA (1)
Aug-21 09:56:24.753 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: step3_applyPCA (1); status: COMPLETED; exit: 1; error: -; workDir: /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/09/4527503e2a013ef891ae576c2c525c]
Aug-21 09:56:24.830 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=step3_applyPCA (1); work-dir=/research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/09/4527503e2a013ef891ae576c2c525c
  error [nextflow.exception.ProcessFailedException]: Process `step3_applyPCA (1)` terminated with an error exit status (1)
Aug-21 09:56:24.841 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'step3_applyPCA (1)'

Caused by:
  Process `step3_applyPCA (1)` terminated with an error exit status (1)

Command executed:

  python /home/dputnam/chenlab_home/CanID_classification_final_revision/public_application/scripts/step3_feature_selection/pca_transform.py ZERO_NFST_bn_test.txt ST_train_pca80.pickle ZERO_NFST_pca

Command exit status:
  1

Command output:
  data shape: (101, 0)

Command error:
  data shape: (101, 0)
  Traceback (most recent call last):
    File "/home/dputnam/chenlab_home/CanID_classification_final_revision/public_application/scripts/step3_feature_selection/pca_transform.py", line 50, in <module>
      main(LineArgs)
    File "/home/dputnam/chenlab_home/CanID_classification_final_revision/public_application/scripts/step3_feature_selection/pca_transform.py", line 40, in main
      reduced_test_features = pca_model.transform(expression_data)
    File "/home/dputnam/miniconda3/envs/ml-demo/lib/python3.10/site-packages/sklearn/decomposition/_base.py", line 120, in transform
      X = self._validate_data(X, dtype=[np.float64, np.float32], reset=False)
    File "/home/dputnam/miniconda3/envs/ml-demo/lib/python3.10/site-packages/sklearn/base.py", line 577, in _validate_data
      X = check_array(X, input_name="X", **check_params)
    File "/home/dputnam/miniconda3/envs/ml-demo/lib/python3.10/site-packages/sklearn/utils/validation.py", line 918, in check_array
      raise ValueError(
  ValueError: Found array with 0 feature(s) (shape=(101, 0)) while a minimum of 1 is required by PCA.

Work dir:
  /research_jude/rgs01_jude/groups/chen1grp/projects/Liver_FFPE/chen1grp/CanID_classification_final_revision/public_application/nextflow/work/09/4527503e2a013ef891ae576c2c525c

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Aug-21 09:56:24.844 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `step3_applyPCA (1)` terminated with an error exit status (1)
Aug-21 09:56:24.852 [main] DEBUG nextflow.Session - Session await > all processes finished
Aug-21 09:56:24.860 [main] DEBUG nextflow.Session - Session await > all barriers passed
Aug-21 09:56:24.866 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=3; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=41.5s; failedDuration=6.4s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Aug-21 09:56:25.117 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Aug-21 09:56:25.153 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
